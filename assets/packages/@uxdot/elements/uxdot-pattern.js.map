{"version":3,"file":"uxdot-pattern.js","sourceRoot":"","sources":["uxdot-pattern.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, isServer } from 'lit';\n\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { classMap } from 'lit/directives/class-map.js';\n\nimport { SSRFailureRecoverableElement } from './ssr-failure-recoverable.js';\n\nimport { SlotController } from '@patternfly/pfe-core/controllers/slot-controller.js';\n\nimport { colorPalettes, type ColorPalette } from '@rhds/elements/lib/color-palettes.js';\nimport { themable } from '@rhds/elements/lib/themable.js';\n\nimport {\n  ColorPaletteListConverter,\n  ContextChangeEvent,\n  paletteNames,\n} from '@rhds/elements/lib/elements/rh-context-picker/rh-context-picker.js';\n\nimport '@rhds/elements/lib/elements/rh-context-picker/rh-context-picker.js';\nimport '@rhds/elements/rh-surface/rh-surface.js';\nimport '@rhds/elements/rh-code-block/rh-code-block.js';\nimport '@rhds/elements/rh-tabs/rh-tabs.js';\n\nimport { TabExpandEvent } from '@rhds/elements/rh-tabs/rh-tab.js';\n\nimport { UxdotPatternSSRController } from './uxdot-pattern-ssr-controller.js';\n\nimport styles from './uxdot-pattern.css';\n\n@customElement('uxdot-pattern')\n@colorPalettes\n@themable\nexport class UxdotPattern extends SSRFailureRecoverableElement {\n  static styles = [styles];\n\n  /** Which color palette to apply to the demo surface */\n  @property({ reflect: true, attribute: 'color-palette' })\n  colorPalette: ColorPalette = 'lightest';\n\n  /** The id of the element in shadow DOM which the color picker targets */\n  @property({ reflect: true }) target = 'content';\n\n  /** Path to the pattern source file, relative to the input file */\n  @property({ reflect: true }) src?: string;\n\n  /** Path to additional CSS file to include */\n  @property({ reflect: true, attribute: 'css-src' }) cssSrc?: string;\n\n  /** Path to additional JS file to include */\n  @property({ reflect: true, attribute: 'js-src' }) jsSrc?: string;\n\n  /** Should the color picker be hidden? */\n  @property({ type: Boolean, attribute: 'no-color-picker' }) noColorPicker = false;\n\n  /** Should the code tabs be hidden? */\n  @property({ type: Boolean, attribute: 'no-code-tabs' }) noCodeTabs = false;\n\n  /** Should the code blocks be expanded? */\n  @property({ type: Boolean, attribute: 'full-height' }) fullHeight = false;\n\n  /** Should the code blocks be expanded? */\n  @property({ reflect: true, attribute: 'active-tab' }) activeTab?: 'html' | 'css' | 'js';\n\n  /** Which color palettes should be allowed in the picker? (default: all) */\n  @property({ converter: ColorPaletteListConverter }) allow = paletteNames;\n\n  #picked = false;\n\n  ssr = new UxdotPatternSSRController(this);\n\n  #slots = new SlotController(this, null, 'heading');\n\n  render() {\n    const { activeTab = 'html' } = this;\n    const { allContent, htmlContent, cssContent, jsContent, hasJs, hasCss } = this.ssr;\n\n    const actionsLabels = html`\n      <span slot=\"action-label-copy\">Copy to Clipboard</span>\n      <span slot=\"action-label-copy\" hidden data-code-block-state=\"active\">Copied!</span>\n      <span slot=\"action-label-wrap\">Toggle line wrap</span>\n    `;\n\n    return html`\n      <div id=\"container\">\n        <div id=\"heading\"><slot name=\"heading\"></slot></div>\n\n        <form id=\"color-picker\"\n              ?hidden=\"${this.noColorPicker}\"\n              @submit=\"${(e: Event) => e.preventDefault()}\">\n          <label for=\"picker\">Color palette</label>\n          <rh-context-picker id=\"picker\"\n                             @change=\"${this.#onChange}\"\n                             value=\"${this.colorPalette}\"\n                             target=\"${this.target}\"\n                             allow=\"${this.allow}\"></rh-context-picker>\n        </form>\n\n        <div id=\"description\" class=\"${classMap({ empty: this.#slots.isEmpty(null) })}\">\n          <slot></slot>\n        </div>\n\n        <rh-surface id=\"content\">${allContent}</rh-surface>\n\n        <rh-tabs id=\"code-tabs\"\n                 class=\"code-tabs\"\n                 active-index=\"${ifDefined(!this.#picked ? ['html', 'css', 'js'].indexOf(activeTab) : undefined)}\"\n                 ?hidden=\"${this.noCodeTabs}\"\n                 @expand=\"${this.#onExpand}\">\n          <rh-tab id=\"html-tab\" slot=\"tab\" >HTML</rh-tab>\n          <rh-tab-panel id=\"html-panel\">\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           ?full-height=\"${this.fullHeight}\">\n              ${htmlContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n          <rh-tab id=\"css-tab\" slot=\"tab\" .disabled=\"${!hasCss}\" >CSS</rh-tab>\n          <rh-tab-panel id=\"css-panel\">\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           ?full-height=\"${this.fullHeight}\">\n              ${cssContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n          <rh-tab id=\"js-tab\" slot=\"tab\" .disabled=\"${!hasJs}\" >JS</rh-tab>\n          <rh-tab-panel id=\"js-panel\">\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           ?full-height=\"${this.fullHeight}\">\n              ${jsContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n        </rh-tabs>\n      </div>\n    `;\n  }\n\n  #onExpand(event: Event) {\n    if (!isServer && event instanceof TabExpandEvent) {\n      this.#picked = true;\n    }\n  }\n\n  #onChange(event: Event) {\n    if (event instanceof ContextChangeEvent) {\n      this.colorPalette = event.colorPalette;\n    }\n  }\n}\n"]}