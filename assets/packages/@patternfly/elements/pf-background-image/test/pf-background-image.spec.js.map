{"version":3,"file":"pf-background-image.spec.js","sourceRoot":"","sources":["pf-background-image.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { expect, html } from '@open-wc/testing';\nimport { createFixture } from '@patternfly/pfe-tools/test/create-fixture.js';\nimport { PfBackgroundImage } from '@patternfly/elements/pf-background-image/pf-background-image.js';\nimport { setViewport } from '@web/test-runner-commands';\n\nconst example = html`\n  <pf-background-image filter\n    src=\"/components/background-image/demo/pfbg.jpg\"\n    src-2x=\"/components/background-image/demo/pfbg_576.jpg\"\n    src-sm=\"/components/background-image/demo/pfbg_768.jpg\"\n    src-sm-2x=\"/components/background-image/demo/pfbg_768@2x.jpg\"\n    src-lg=\"/components/background-image/demo/pfbg_1200.jpg\"\n    >\n  </pf-background-image>\n`;\n\nfunction isMobile() {\n  const matches = !!window.matchMedia('(max-width: 575px)').matches;\n  return matches;\n}\n\nfunction isTablet() {\n  const matches = !!window.matchMedia('(min-width: 576px)').matches;\n  return matches;\n}\n\nfunction isDesktop() {\n  const matches = !!window.matchMedia('(min-width: 992px)').matches;\n  return matches;\n}\n\ndescribe('<pf-background-image>', function() {\n  describe('simply instantiating', function() {\n    let element: PfBackgroundImage;\n\n    it('imperatively instantiates', function() {\n      expect(document.createElement('pf-background-image')).to.be.an.instanceof(PfBackgroundImage);\n    });\n\n    it('should upgrade', async function() {\n      element = await createFixture<PfBackgroundImage>(html`<pf-background-image></pf-background-image>`);\n      const klass = customElements.get('pf-background-image');\n      expect(element)\n          .to.be.an.instanceOf(klass)\n          .and\n          .to.be.an.instanceOf(PfBackgroundImage);\n    });\n\n    describe('adjusting window size', function() {\n      describe('when the window is less than 576px wide', function() {\n        beforeEach(async function() {\n          await setViewport({ width: 320, height: 500 });\n          await element.updateComplete;\n          expect(isMobile()).to.be.true;\n        });\n\n        it('should background image', async function() {\n          const element = await createFixture<PfBackgroundImage>(example);\n          await element.updateComplete;\n          const container = element.shadowRoot!.querySelector('#container')!;\n          const afterStyles = getComputedStyle(container, '::after');\n          expect(afterStyles.getPropertyValue('background-image')).to.contain('/components/background-image/demo/pfbg.jpg');\n        });\n      });\n    });\n\n    describe('when the window is less greater then 576px wide', function() {\n      beforeEach(async function() {\n        await setViewport({ width: 576, height: 500 });\n        await element.updateComplete;\n        expect(isTablet()).to.be.true;\n      });\n\n      it('should background image', async function() {\n        const element = await createFixture<PfBackgroundImage>(example);\n        await element.updateComplete;\n        const container = element.shadowRoot!.querySelector('#container')!;\n        const afterStyles = getComputedStyle(container, '::after');\n        /* the image sizes are not named based off viewport but their own intrinsic size */\n        expect(afterStyles.getPropertyValue('background-image')).to.contain('/components/background-image/demo/pfbg_768.jpg');\n      });\n    });\n\n    describe('when the window is less greater then 992px wide', function() {\n      beforeEach(async function() {\n        await setViewport({ width: 992, height: 500 });\n        await element.updateComplete;\n        expect(isDesktop()).to.be.true;\n      });\n\n      it('should background image', async function() {\n        const element = await createFixture<PfBackgroundImage>(example);\n        await element.updateComplete;\n        const container = element.shadowRoot!.querySelector('#container')!;\n        const afterStyles = getComputedStyle(container, '::after');\n        /* the image sizes are not named based off viewport but their own intrinsic size */\n        expect(afterStyles.getPropertyValue('background-image')).to.contain('/components/background-image/demo/pfbg_1200.jpg');\n      });\n    });\n  });\n});\n\n"]}