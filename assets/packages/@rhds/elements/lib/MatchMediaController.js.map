{"version":3,"file":"MatchMediaController.js","sourceRoot":"","sources":["MatchMediaController.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,KAAK,EAAE,MAAM,0CAA0C,CAAC;AAEjE,MAAM,OAAO,oBAAoB;IAS/B;IACE,0DAA0D;IACnD,IAAsC,EACrC,aAAa,EAAE,EACvB,OAEC;QAJM,SAAI,GAAJ,IAAI,CAAkC;QACrC,eAAU,GAAV,UAAU,CAAK;QAXzB;;;WAGG;QACI,mBAAc,GAA0B,IAAI,CAAC;QAYlD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAG,OAAO,EAAE,QAAQ,CAAC;IACpC,CAAC;IAED,aAAa;QACX,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,cAAc,EAAE,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjE,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,cAAc,EAAE,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACpE,CAAC;IAED,wDAAwD;IACjD,QAAQ;QACb,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QAC1B,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,cAAc,IAAI,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IACtE,CAAC;CACF;AAJQ;IAAN,KAAK;oDAGL","sourcesContent":["import type { ReactiveControllerHost, ReactiveController } from 'lit';\n\nimport { bound } from '@patternfly/pfe-core/decorators/bound.js';\n\nexport class MatchMediaController implements ReactiveController {\n  /**\n   * The matchMedia result\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\n   */\n  public mediaQueryList: MediaQueryList | null = null;\n\n  private onChange?(list: MediaQueryList): void\n\n  constructor(\n    /** reference to the host element using this controller */\n    public host: ReactiveControllerHost & Element,\n    private mediaQuery = '',\n    options?: {\n      onChange?(list: MediaQueryList): void\n    }\n  ) {\n    this.host.addController(this);\n    this.mediaQueryList = matchMedia(mediaQuery);\n    this.onChange = options?.onChange;\n  }\n\n  hostConnected() {\n    this.evaluate();\n    this.mediaQueryList?.addEventListener('change', this.evaluate);\n  }\n\n  hostDisconnected() {\n    this.mediaQueryList?.removeEventListener('change', this.evaluate);\n  }\n\n  /** Requests a render and calls the onChange callback */\n  @bound evaluate() {\n    this.host.requestUpdate();\n    this.onChange?.(this.mediaQueryList ?? matchMedia(this.mediaQuery));\n  }\n}\n"]}