{"version":3,"file":"rh-context-demo.js","sourceRoot":"","sources":["rh-context-demo.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, type PropertyValues, html } from 'lit';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\nimport { classMap } from 'lit-html/directives/class-map.js';\n\nimport { colorContextProvider, type ColorPalette } from '../../context/color/provider.js';\nimport { ContextChangeEvent } from '../rh-context-picker/rh-context-picker.js';\n\nimport '@rhds/elements/rh-surface/rh-surface.js';\n\nimport style from './rh-context-demo.css';\n\nimport consumerStyles from '@rhds/tokens/css/color-context-consumer.css.js';\n\n@customElement('rh-context-demo')\nexport class RhContextDemo extends LitElement {\n  static readonly styles = [style, consumerStyles];\n\n  static formAssociated = true;\n\n  @property() value: ColorPalette = 'darkest';\n\n  @property() label = 'Color Palette';\n\n  @colorContextProvider()\n  @property({ attribute: 'color-palette', reflect: true })\n  colorPalette = this.value;\n\n  #internals = this.attachInternals();\n\n  protected override render() {\n    const { value = 'darkest' } = this;\n    const on = this.value.replace(/est|er/, '');\n    return html`\n      <rh-surface id=\"provider\"\n                  color-palette=\"${value}\"\n                  @change=\"${this.#onChange}\">\n          <div id=\"picker-container\" class=\"${classMap({ on: true, [on]: true })}\">\n            <rh-context-picker id=\"picker\"\n                               .value=\"${this.value}\"\n                               target=\"provider\"></rh-context-picker>\n            <label for=\"picker\">${this.label}</label>\n            <slot name=\"controls\"></slot>\n          </div>\n        <slot part=\"demo\" class=\"${classMap({ on: true, [on]: true })}\"></slot>\n      </rh-surface>\n    `;\n  }\n\n  protected override willUpdate(changed: PropertyValues<this>) {\n    if (changed.has('colorPalette')) {\n      this.value = this.colorPalette;\n    }\n    if (changed.has('value')) {\n      this.colorPalette = this.value;\n    }\n  }\n\n  protected formStateRestoreCallback(state: string) {\n    this.#setValue(state as ColorPalette);\n  }\n\n  #onChange(event: Event) {\n    const picker = this.shadowRoot?.getElementById('picker');\n    if (event instanceof ContextChangeEvent) {\n      if (event.target !== picker && event.provider && (event.provider !== this)) {\n        return;\n      }\n      this.#setValue(event.colorPalette);\n      event.preventDefault();\n    }\n  }\n\n  #setValue(value: ColorPalette) {\n    if (value) {\n      this.#internals.setFormValue(value);\n      this.value = value;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rh-context-demo': RhContextDemo;\n  }\n}\n"]}