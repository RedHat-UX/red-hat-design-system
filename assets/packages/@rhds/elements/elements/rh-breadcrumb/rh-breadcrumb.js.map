{"version":3,"file":"rh-breadcrumb.js","sourceRoot":"","sources":["rh-breadcrumb.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, isServer, render } from 'lit';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\n\nimport { themable } from '@rhds/elements/lib/themable.js';\n\nimport styles from './rh-breadcrumb.css';\n\nconst truncateBtnClass = 'truncate-btn';\nconst truncateBtnContainerClass = `${truncateBtnClass}-container`;\n\nfunction isTruncateButtonDescendant(target: EventTarget | null): target is HTMLElement {\n  return !!target\n    && target instanceof HTMLElement\n    && !!target.closest(`.${truncateBtnClass}`);\n}\n\nconst truncationBtn = html`\n  <button class=\"${truncateBtnClass}\"\n          aria-expanded=\"false\"\n          title=\"Show middle breadcrumb items\"\n          type=\"button\">\n    <span aria-hidden=\"true\">&#8230;</span>\n    <span class=\"visually-hidden\">\n      Show middle breadcrumb items\n    </span>\n  </button>`;\n\n/**\n * A breadcrumb navigation is a secondary navigation element consisting of a list\n * of links to the parent pages of the current page in hierarchical order. It\n * helps users find their place within a website or web application.\n * @summary Links displaying a hierarchical location\n *\n * @alias breadcrumb\n * @cssprop [--rh-breadcrumb-caret-image={svg encoded as data URI}] -\n * The default `mask-image` separating each breadcrumb item\n * @cssprop [--rh-breadcrumb-li-padding-inline-end=var(--rh-space-lg, 16px)] -\n * Sets the spacing between each breadcrumb item.\n * @cssprop [--rh-breadcrumb-link-color=var(--rh-color-interactive-primary-default)] -\n * The link color for each anchor in the list\n */\n\n@customElement('rh-breadcrumb')\n@themable\nexport class RhBreadcrumb extends LitElement {\n  static readonly styles = [styles];\n  /**\n   * Customize the default `aria-label` on the `<nav>` container.\n   * Defaults to \"Breadcrumb\" if no attribute/property is set.\n   */\n  @property({ attribute: 'accessible-label' }) accessibleLabel?: string;\n\n  /**\n   * Sets variants to breadcrumbs\n   */\n  @property({ reflect: true }) variant?: 'subtle';\n\n  /**\n * Breadcrumbs over four items will be truncated and include a button to expand the middle breadcrumb items\n */\n  @property({ reflect: true, type: Boolean }) truncate? = false;\n\n\n  render() {\n    const label = this.accessibleLabel ? this.accessibleLabel : 'Breadcrumb';\n    // delegating click events on the buttons to the nav element\n    /* eslint-disable lit-a11y/click-events-have-key-events */\n    return html`\n      <!-- container element for slotted breadcrumb -->\n      <nav id=\"container\"\n           part=\"container\"\n           aria-label=\"${label}\"\n           @click=\"${this.#onTruncationClick}\">\n        <!-- Place an ordered list (\\`<ol>\\`) of your breadcrumbs into the slot -->\n        <slot></slot>\n      </nav>\n    `;\n    /* eslint-enable lit-a11y/click-events-have-key-events */\n  }\n\n  firstUpdated(): void {\n    if (isServer || !this.truncate) {\n      return;\n    }\n\n    const list = this.querySelector('ol');\n    if (!list) {\n      return;\n    }\n\n    if (list.children.length < 5) {\n      return;\n    }\n\n    const middleItems = list.querySelectorAll('li:nth-child(n+2):nth-last-child(n+3)');\n    for (const item of middleItems) {\n      item.setAttribute('hidden', 'true');\n    }\n\n    const container = document.createElement('li');\n    container.className = truncateBtnContainerClass;\n    render(truncationBtn, container);\n    middleItems[0].before(container);\n  }\n\n  #onTruncationClick(event: Event): void {\n    let listItems: NodeListOf<Element>;\n    if (!isServer\n      && this.truncate\n      && isTruncateButtonDescendant(event.target)\n      && (listItems = this.querySelectorAll(':scope > ol > li'))) {\n      for (const item of listItems) {\n        item.removeAttribute('hidden');\n      }\n      event.target.closest(`.${truncateBtnContainerClass}`)?.remove();\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rh-breadcrumb': RhBreadcrumb;\n  }\n}\n"]}