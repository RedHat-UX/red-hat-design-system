{"version":3,"file":"rh-dialog.js","sourceRoot":"","sources":["rh-dialog.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAC3B,OAAO,EAAE,aAAa,EAAE,MAAM,kCAAkC,CAAC;AACjE,OAAO,EAAE,QAAQ,EAAE,MAAM,4BAA4B,CAAC;AAEtD,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AACvD,OAAO,EAAE,QAAQ,EAAE,MAAM,6CAA6C,CAAC;AACvE,OAAO,EAAE,OAAO,EAAE,MAAM,2CAA2C,CAAC;AACpE,OAAO,EAAE,oBAAoB,EAAE,MAAM,mCAAmC,CAAC;;;AAIzE,KAAK,UAAU,YAAY,CAAC,MAAyB;IACnD,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM,MAAM,CAAC,aAAa,CAAC,CAAC;IACnD,MAAM,UAAU,CAAC,MAAM,CAAC,CAAC;AAC3B,CAAC;AAED,SAAS,WAAW,CAAiB,QAAiB;IACpD,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,IAAI,QAAQ,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;QACrE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC;QACvC,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC5C,IAAI,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;YAChC,YAAY,CAAC,MAAM,CAAC,CAAC;SACtB;KACF;AACH,CAAC;AAED;;;;;;;;;;;;;;;;;;GAkBG;AAEI,IAAM,QAAQ,GAAd,MAAM,QAAS,SAAQ,OAAO;IAA9B;;QAOL,+BAAc,IAAI,oBAAoB,CAAC,IAAI,CAAC,EAAC;QAKD,SAAI,GAAG,KAAK,CAAC;IAU3D,CAAC;IARC,MAAM;QACJ,MAAM,EAAE,MAAM,EAAE,GAAG,uBAAA,IAAI,4BAAY,CAAC;QACpC,OAAO,IAAI,CAAA;qCACsB,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC;UAC/C,KAAK,CAAC,MAAM,EAAE;;KAEnB,CAAC;IACJ,CAAC;;;AApBe,gBAAO,GAAG,aAAa,CAAC;AAExB,eAAM,GAAG,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAEpC,4BAAmB,GAAG,IAAI,CAAC;AAIf;IAA5B,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;sCAAgB;AAGA;IAD3C,QAAQ,CAAC,WAAW,CAAC;IACrB,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;sCAAc;AAZ9C,QAAQ;IADpB,aAAa,CAAC,WAAW,CAAC;GACd,QAAQ,CAsBpB;SAtBY,QAAQ","sourcesContent":["import { html } from 'lit';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { observed } from '@patternfly/pfe-core/decorators/observed.js';\nimport { PfModal } from '@patternfly/elements/pf-modal/pf-modal.js';\nimport { ScreenSizeController } from '../../lib/ScreenSizeController.js';\n\nimport styles from './rh-dialog.css';\n\nasync function pauseYoutube(iframe: HTMLIFrameElement) {\n  const { pauseVideo } = await import('./yt-api.js');\n  await pauseVideo(iframe);\n}\n\nfunction openChanged(this: RhDialog, oldValue: unknown) {\n  if (this.type === 'video' && oldValue === true && this.open === false) {\n    this.querySelector('video')?.pause?.();\n    const iframe = this.querySelector('iframe');\n    if (iframe?.src.match(/youtube/)) {\n      pauseYoutube(iframe);\n    }\n  }\n}\n\n/**\n * A dialog displays important information to users without requiring them to navigate away from the page.\n * @summary Displays important information to users without requiring them to navigate away from the page\n *\n * @cssprop {<color>} --rh-dialog-close-button-color\n *           Sets the dialog close button color.\n *          {@default `var(--rh-color-icon-secondary-on-dark, #ffffff)`}\n * @cssprop --rh-border-radius-default\n * @cssprop --rh-color-gray-90-rgb\n * @cssprop --rh-color-icon-secondary-on-dark\n * @cssprop --rh-color-icon-secondary-on-light\n * @cssprop --rh-color-icon-subtle\n * @cssprop --rh-color-surface-lightest\n * @cssprop --rh-color-text-primary-on-light\n * @cssprop --rh-modal-video-aspect-ratio\n * @cssprop --rh-opacity-60\n * @cssprop --rh-space-md\n * @cssprop --rh-space-sm\n */\n@customElement('rh-dialog')\nexport class RhDialog extends PfModal {\n  static readonly version = '{{version}}';\n\n  static readonly styles = [...PfModal.styles, styles];\n\n  protected static closeOnOutsideClick = true;\n\n  #screenSize = new ScreenSizeController(this);\n\n  @property({ reflect: true }) type?: 'video';\n\n  @observed(openChanged)\n  @property({ reflect: true, type: Boolean }) open = false;\n\n  render() {\n    const { mobile } = this.#screenSize;\n    return html`\n      <div id=\"rhds-wrapper\" class=${classMap({ mobile })}>\n        ${super.render()}\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rh-dialog': RhDialog;\n  }\n}\n"]}