{"version":3,"file":"rh-tab.js","sourceRoot":"","sources":["rh-tab.ts"],"names":[],"mappings":"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","sourcesContent":["import type { IconNameFor, IconSetName } from '@rhds/icons';\n\nimport { html, isServer, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\nimport { state } from 'lit/decorators/state.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { consume } from '@lit/context';\n\nimport { observes } from '@patternfly/pfe-core/decorators/observes.js';\nimport { getRandomId } from '@patternfly/pfe-core/functions/random.js';\nimport { InternalsController } from '@patternfly/pfe-core/controllers/internals-controller.js';\n\n\nimport {\n  rhTabsActiveTabContext,\n  rhTabsBoxContext,\n  rhTabsManualContext,\n  rhTabsFirstTabContext,\n  rhTabsLastTabContext,\n  rhTabsVerticalContext,\n} from './context.js';\n\nimport { themable } from '@rhds/elements/lib/themable.js';\n\nimport styles from './rh-tab.css';\nimport { ifDefined } from 'lit/directives/if-defined.js';\n\nexport class TabExpandEvent extends Event {\n  constructor(\n    public active: boolean,\n    public tab: RhTab,\n  ) {\n    super('expand', { bubbles: true, cancelable: true });\n  }\n}\n\n/**\n * The tab button for use within a rh-tabs element, must be paired with a rh-tab-panel.\n * @fires { TabExpandEvent } expand - when a tab expands\n */\n@customElement('rh-tab')\n@themable\nexport class RhTab extends LitElement {\n  static readonly styles = [styles];\n\n  /** True when the tab is selected */\n  @property({ reflect: true, type: Boolean }) active = false;\n\n  /** True when the tab is disabled */\n  @property({ reflect: true, type: Boolean }) disabled = false;\n\n  /** Icon name to display in the tab */\n  @property({ reflect: true }) icon?: IconNameFor<IconSetName>;\n\n  /** Icon set used for displaying the icon */\n  @property({ attribute: 'icon-set' }) iconSet: IconSetName = 'ui';\n\n  @consume({ context: rhTabsBoxContext, subscribe: true })\n  @state() private box = false;\n\n  @consume({ context: rhTabsVerticalContext, subscribe: true })\n  @state() private vertical = false;\n\n  @consume({ context: rhTabsManualContext, subscribe: true })\n  @state() private manual = false;\n\n  @consume({ context: rhTabsActiveTabContext, subscribe: true })\n  @state() private activeTab: RhTab | null = null;\n\n  @consume({ context: rhTabsFirstTabContext, subscribe: true })\n  @state() private firstTab: RhTab | null = null;\n\n  @consume({ context: rhTabsLastTabContext, subscribe: true })\n  @state() private lastTab: RhTab | null = null;\n\n  #internals = InternalsController.of(this, { role: 'tab' });\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.id ||= getRandomId(this.localName);\n    this.addEventListener('click', this.#onClick);\n    this.addEventListener('keydown', this.#onKeydown);\n    this.addEventListener('focus', this.#onFocus);\n  }\n\n  render() {\n    const { box = false, vertical = false, activeTab, firstTab, lastTab } = this;\n    const active = isServer ? this.active : activeTab === this;\n    const first = firstTab === this;\n    const last = lastTab === this;\n    return html`\n      <!-- element that contains the interactive part of a tab -->\n      <div id=\"button\"\n           part=\"button\"\n           ?disabled=\"${this.disabled}\"\n           class=\"${classMap({ active, box, vertical, first, last })}\">\n        <slot name=\"icon\"\n              part=\"icon\">\n          <rh-icon ?hidden=\"${!this.icon}\" icon=\"${ifDefined(this.icon)}\" set=\"${ifDefined(this.iconSet)}\"></rh-icon>\n        </slot>    \n        <!-- Tab title text -->\n        <slot part=\"text\"></slot>\n      </div>\n    `;\n  }\n\n  #onClick() {\n    if (!this.disabled && this.#internals.ariaDisabled !== 'true' && this.ariaDisabled !== 'true') {\n      this.#activate();\n      if (InternalsController.isSafari) {\n        this.focus();\n      }\n    }\n  }\n\n  #onFocus() {\n    if (!this.manual && !this.disabled) {\n      this.#activate();\n    }\n  }\n\n  #onKeydown(event: KeyboardEvent) {\n    if (!this.disabled) {\n      switch (event.key) {\n        case 'Enter':\n          this.#activate();\n      }\n    }\n  }\n\n  #activate() {\n    this.dispatchEvent(new TabExpandEvent(this.active, this));\n  }\n\n  @observes('icon')\n  protected iconChanged() {\n    if (this.icon) {\n      import('@rhds/elements/rh-icon/rh-icon.js');\n    }\n  }\n\n  @observes('active')\n  private activeChanged(old: boolean) {\n    this.#internals.ariaSelected = String(!!this.active);\n    if (this.active && !old) {\n      this.#activate();\n    }\n  }\n\n  /**\n   * if a tab is disabled, then it is also aria-disabled\n   * if a tab is removed from disabled its not necessarily\n   * not still aria-disabled so we don't remove the aria-disabled\n   */\n  @observes('disabled')\n  private disabledChanged() {\n    this.#internals.ariaDisabled = String(!!this.disabled);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rh-tab': RhTab;\n  }\n}\n"]}