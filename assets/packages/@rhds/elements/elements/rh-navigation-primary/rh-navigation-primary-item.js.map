{"version":3,"file":"rh-navigation-primary-item.js","sourceRoot":"","sources":["rh-navigation-primary-item.ts"],"names":[],"mappings":"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","sourcesContent":["import type { IconNameFor, IconSetName } from '@rhds/icons';\n\nimport { LitElement, html, isServer } from 'lit';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { state } from 'lit/decorators/state.js';\nimport { query } from 'lit/decorators/query.js';\nimport { property } from 'lit/decorators/property.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { ifDefined } from 'lit-html/directives/if-defined.js';\n\nimport { consume } from '@lit/context';\nimport { context } from './context.js';\n\nimport { themable } from '@rhds/elements/lib/themable.js';\n\nimport { InternalsController } from '@patternfly/pfe-core/controllers/internals-controller.js';\n\nimport '@rhds/elements/rh-icon/rh-icon.js';\n\nimport './rh-navigation-primary-item-menu.js';\n\nimport styles from './rh-navigation-primary-item.css';\n\n@themable\n@customElement('rh-navigation-primary-item')\nexport class RhNavigationPrimaryItem extends LitElement {\n  static readonly styles = [styles];\n\n  #highlight = false;\n\n  // eslint-disable-next-line no-unused-private-class-members\n  #internals = InternalsController.of(this, { role: 'listitem' });\n\n  #hydrated = false;\n\n  @query('details')\n  private _details!: HTMLDetailsElement;\n\n  @query('summary')\n  private _summary!: HTMLElement;\n\n  @consume({ context, subscribe: true })\n  @state()\n  private compact?: boolean;\n\n  @property({ type: Boolean, reflect: true }) open = false;\n\n  /* Summary text for dropdown variants only */\n  @property() summary?: string;\n\n  /* Variants 'link' | 'dropdown', link is the default if no variant is given */\n  @property() variant?: 'link' | 'dropdown' = 'link';\n\n  /**\n   * Hides the element at various container query based breakpoints.\n   * Breakpoints available 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'\n   */\n  @property({ reflect: true, attribute: 'hide-at' })\n  hideAt?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' = undefined;\n\n  /** Shorthand for the `icon` slot, the value is icon name */\n  @property() icon?: IconNameFor<IconSetName>;\n\n  /** Icon set for the `icon` property - 'ui' by default */\n  @property({ attribute: 'icon-set' }) iconSet?: IconSetName;\n\n\n  protected firstUpdated(): void {\n    // ensure we update initially on client hydration\n    const _isHydrated = isServer && !this.hasUpdated;\n    if (!_isHydrated) {\n      this.#hydrated = true;\n      const nav = this.closest('rh-navigation-primary');\n      if (!nav) {\n        this.compact = true; /* default to true if nav returns false */\n      } else {\n        this.compact = nav.offsetWidth < 1200;\n      }\n      /**\n       * SSR Adds the role, but then removes when ElementInternals is hydrated\n       * However, axe-dev tools then complains as it doesn't handle Internals correctly\n       * So.... lets readd it for brevity, then when axe decides to fix their stuff,\n       * we can remove at a later date.\n       */\n      this.role = 'listitem';\n    }\n  }\n\n  render() {\n    const { variant = '' } = this;\n    const compact = this.compact ?? true;\n    const hamburger = (!this.getAttribute('slot'));\n    return html`\n      <div id=\"container\" class=\"${classMap({\n      [variant]: true,\n      highlight: !!this.#highlight,\n      compact,\n      standalone: !hamburger,\n      hamburger: hamburger,\n      dehydrated: !this.#hydrated,\n    })}\">${this.variant === 'dropdown' ? html`\n        <details @toggle=\"${this.#detailsToggle}\" ?open=\"${this.open}\">\n          <summary>${hamburger ? '' : html`\n            <slot name=\"icon\">${!this.icon ? '' : html`\n              <rh-icon icon=\"${ifDefined(this.icon)}\" set=\"${ifDefined(this.iconSet)}\"></rh-icon>`}\n            </slot>`}\n            <div id=\"summary-text\"><slot name=\"summary\">${this.summary}</slot></div>\n            <rh-icon icon=\"caret-down\" set=\"microns\"></rh-icon>\n          </summary>\n          <rh-navigation-primary-item-menu id=\"details-content\">\n            <slot></slot>\n          </rh-navigation-primary-item-menu>\n        </details>` : html`\n        <slot></slot>`}\n      </div>\n    `;\n  }\n\n  #detailsToggle() {\n    this.open = this._details.open;\n    this.dispatchEvent(new Event('toggle', { bubbles: true }));\n  }\n\n  /** @summary hides the dropdown */\n  public async hide() {\n    this.open = false;\n    this.requestUpdate();\n    await this.updateComplete;\n  }\n\n  /** @summary shows the dropdown */\n  public async show() {\n    this.open = true;\n    this.requestUpdate();\n    await this.updateComplete;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rh-navigation-primary-item': RhNavigationPrimaryItem;\n  }\n}\n"]}