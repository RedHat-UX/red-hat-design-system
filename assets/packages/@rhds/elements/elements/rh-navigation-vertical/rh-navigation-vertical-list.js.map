{"version":3,"file":"rh-navigation-vertical-list.js","sourceRoot":"","sources":["rh-navigation-vertical-list.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, isServer, type TemplateResult } from 'lit';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\nimport { query } from 'lit/decorators/query.js';\nimport { classMap } from 'lit-html/directives/class-map.js';\n\nimport { InternalsController } from '@patternfly/pfe-core/controllers/internals-controller.js';\n\nimport '@rhds/elements/rh-icon/rh-icon.js';\nimport '@rhds/elements/rh-navigation-link/rh-navigation-link.js';\n\nimport styles from './rh-navigation-vertical-list.css';\n\n/**\n * A disclosure menu of grouped navigation items in a vertical navigation list.\n * @summary Vertical navigation group\n * @alias navigation-vertical-list\n */\n@customElement('rh-navigation-vertical-list')\nexport class RhNavigationVerticalList extends LitElement {\n  static readonly styles: CSSStyleSheet[] = [styles];\n\n  private static readonly preventEscElements = [\n    'input:not([type=\"hidden\"]):not([type=\"radio\"])',\n\n    // Elements that need the :disabled selector:\n    ...[\n      'input[type=\"radio\"]',\n      'select',\n      'textarea',\n      'rh-audio-player',\n      'rh-dialog',\n    ].map(selector => `${selector}:not([inert]):not([inert] *):not([tabindex^='-']):not(:disabled)`),\n\n    // Elements that don't need the :disabled selector:\n    ...[\n      'iframe',\n      'audio[controls]',\n      'video[controls]',\n      '[contenteditable]',\n    ].map(selector => `${selector}:not([inert]):not([inert] *):not([tabindex^='-'])`),\n  ].join(',');\n\n  // eslint-disable-next-line no-unused-private-class-members\n  #internals = InternalsController.of(this, { role: 'listitem' });\n\n  /**\n   * Optional open attribute that, sets the open state of the group.\n   * Defaults to false.\n   */\n  @property({ type: Boolean, reflect: true }) open = false;\n\n  /**\n   * Optional summary attribute, sets the summary text.\n   * Overridden by the summary slot.\n   */\n  @property({ type: String }) summary?: string;\n\n  /**\n   * Bolds the first `<rh-navigation-link>` of the group. Should not be used if the first child is a `<rh-navigation-vertical-list>`.\n   * Defaults to false.\n   */\n  @property({ type: Boolean, reflect: true }) highlight = false;\n\n  @query('details') private detailsEl!: HTMLDetailsElement;\n  @query('summary') private summaryEl!: HTMLElement;\n\n  render(): TemplateResult<1> {\n    const { highlight = false } = this;\n    const classes = {\n      highlight: !!highlight,\n    };\n    return html`\n      <details \n        class=\"${classMap(classes)}\"\n        @toggle=\"${this.#toggle}\" \n        ?open=\"${this.open}\"\n        @keydown=\"${this.#onKeydown}\">\n        <summary>\n          <!-- A summary slot for the group title, overrides the summary attribute -->\n          <slot name=\"summary\">${this.summary}</slot>\n          <rh-icon set=\"microns\" icon=\"caret-down\"></rh-icon>\n        </summary>\n        <div id=\"subtree\" role=\"list\">\n          <!-- \n            Use this slot for \\`<rh-navigation-link>\\` or \\`<rh-navigation-vertical-list>\\` elements.\n          -->\n          <slot></slot>\n        </div>\n      </details>\n      `;\n  }\n\n  #onKeydown(event: KeyboardEvent): void {\n    if (event.code === 'Escape') {\n      event.stopPropagation();\n\n      const escapeGuardElement =\n        event.composedPath().reverse().find((element: EventTarget | null) => {\n          return (element instanceof Element\n            && element.matches(RhNavigationVerticalList.preventEscElements));\n        });\n\n      if (!escapeGuardElement) {\n        this.#close();\n      }\n    }\n  }\n\n  #toggle() {\n    this.open = this.detailsEl.open;\n    this.dispatchEvent(new Event('toggle', { bubbles: true }));\n  }\n\n  #close() {\n    this.open = false;\n    this.summaryEl.focus();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rh-navigation-vertical-list': RhNavigationVerticalList;\n  }\n}\n\n"]}