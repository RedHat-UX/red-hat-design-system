{"version":3,"file":"rh-button.js","sourceRoot":"","sources":["rh-button.ts"],"names":[],"mappings":"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","sourcesContent":["import type { IconNameFor, IconSetName } from '@rhds/icons';\n\nimport { LitElement, html, type TemplateResult } from 'lit';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\nimport { query } from 'lit/decorators/query.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\n\nimport { themable } from '@rhds/elements/lib/themable.js';\n\nimport { InternalsController } from '@patternfly/pfe-core/controllers/internals-controller.js';\n\nimport styles from './rh-button.css';\n\n/**\n * A button is clickable text or an icon that triggers an action on the page or in the background.\n * Depending on the action, content, and hierarchy, a button can be used on its own or grouped with\n * other buttons.\n * @summary Triggers actions on the page or in the background\n * @csspart button - Internal button element\n * @csspart icon - Container for the icon slot\n * @slot icon - Contains the button's icon or state indicator, e.g. a spinner.\n * @slot - Contains button text\n */\n@customElement('rh-button')\n@themable\nexport class RhButton extends LitElement {\n  static readonly styles = [styles];\n\n  static readonly formAssociated = true;\n\n  static override readonly shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n\n  /** Disables the button */\n  @property({ reflect: true, type: Boolean }) disabled = false;\n\n  /**\n   * button type\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#type\n   */\n  @property({ reflect: true }) type?: 'button' | 'submit' | 'reset';\n\n  /** Accessible name for the button, use when the button does not have slotted text */\n  @property() label?: string;\n\n  /** Form value for the button */\n  @property() value?: string;\n\n  /** Form name for the button */\n  @property() name?: string;\n\n  /** Shorthand for the `icon` slot, the value is icon name */\n  @property() icon?: IconNameFor<IconSetName>;\n\n  /** Icon set for the `icon` property - 'ui' by default */\n  @property({ attribute: 'icon-set' }) iconSet?: IconSetName;\n\n  @query('button') private _button!: HTMLButtonElement;\n\n  /**\n   * Changes the style of the button.\n   * - Primary: Used for the most important call to action on a page. Try to\n   *   limit primary buttons to one per page.\n   * - Secondary: Use secondary buttons for general actions on a page, that\n   *   donâ€™t require as much emphasis as primary button actions. For example,\n   *   you can use secondary buttons where there are multiple actions, like in\n   *   toolbars or data lists.\n   * - Tertiary: Tertiary buttons are flexible and can be used as needed.\n   */\n  @property({ reflect: true }) variant:\n    | 'primary'\n    | 'secondary'\n    | 'tertiary'\n    | 'close'\n    | 'play' = 'primary';\n\n  /**\n   * Use danger buttons for actions a user can take that are potentially\n   * destructive or difficult/impossible to undo, like deleting or removing\n   * user data.\n   */\n  @property({ type: Boolean, reflect: true }) danger = false;\n\n  get #hasIcon() {\n    return this.variant === 'play' || this.variant === 'close' || !!this.icon;\n  }\n\n  #internals = InternalsController.of(this);\n\n  override willUpdate() {\n    if (this.#hasIcon) {\n      import('@rhds/elements/rh-icon/rh-icon.js');\n    }\n  }\n\n  override render() {\n    const { danger, variant } = this;\n    const hasIcon = this.#hasIcon;\n    return html`\n      <button aria-label=\"${ifDefined(this.label)}\"\n              class=\"${classMap({\n                danger,\n                hasIcon,\n                [variant]: true,\n              })}\"\n              part=\"button\"\n              type=\"${ifDefined(this.type)}\"\n              value=\"${ifDefined(this.value)}\"\n              @click=\"${this.#onClick}\"\n              aria-disabled=${String(!!this.disabled || !!this.#internals.formDisabled) as 'true' | 'false'}>\n        <span aria-hidden=\"true\">\n          <slot id=\"icon\"\n                part=\"icon\"\n                name=\"icon\">${this.#renderIcon()}</slot>\n        </span>\n        <span aria-hidden=${String(!!this.label) as 'true' | 'false'}><slot id=\"text\" ></slot></span>\n      </button>\n    `;\n  }\n\n  protected async formDisabledCallback() {\n    await this.updateComplete;\n    this.requestUpdate();\n  }\n\n  #onClick() {\n    switch (this.type) {\n      case 'reset':\n        return this.#internals.reset();\n      default:\n        return this.#internals.submit();\n    }\n  }\n\n  /**\n   * Fallback content for the icon slot. When the `icon` attribute is set, it\n   * should render an icon corresponding to the value.\n   * @example ```html\n   *          <base-icon icon=${this.icon}></base-icon>\n   *          ```\n   */\n  #renderIcon(): TemplateResult {\n    switch (this.variant.toLowerCase()) {\n      case 'close':\n        return html`<rh-icon set=\"microns\" icon=\"close\"></rh-icon>`;\n      case 'play':\n        return html`<rh-icon set=\"ui\" icon=\"play-fill\"></rh-icon>`;\n      default:\n        return html`<rh-icon set=\"${this.iconSet ?? 'ui'}\" icon=\"${this.icon}\"></rh-icon>`;\n    }\n  }\n\n  focus() {\n    this._button?.focus();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rh-button': RhButton;\n  }\n}\n"]}