{"version":3,"file":"uxdot-pattern.js","sourceRoot":"","sources":["uxdot-pattern.ts"],"names":[],"mappings":";;AAEA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAC;AAEjD,OAAO,EAAE,aAAa,EAAE,MAAM,kCAAkC,CAAC;AACjE,OAAO,EAAE,QAAQ,EAAE,MAAM,4BAA4B,CAAC;AAEtD,OAAO,EACL,oBAAoB,GAErB,MAAM,8CAA8C,CAAC;AAEtD,OAAO,EACL,yBAAyB,EACzB,kBAAkB,EAClB,YAAY,GACb,MAAM,oEAAoE,CAAC;AAE5E,OAAO,oEAAoE,CAAC;AAC5E,OAAO,yCAAyC,CAAC;AACjD,OAAO,+CAA+C,CAAC;AACvD,OAAO,mCAAmC,CAAC;AAE3C,OAAO,EAAE,yBAAyB,EAAE,MAAM,mCAAmC,CAAC;;;AAKvE,IAAM,YAAY,GAAlB,MAAM,YAAa,SAAQ,UAAU;IAArC;;;QAGL,uDAAuD;QAEvD,iBAAY,GAAiB,UAAU,CAAC;QAExC,yEAAyE;QAC5C,WAAM,GAAG,SAAS,CAAC;QAWhD,yCAAyC;QACkB,kBAAa,GAAG,KAAK,CAAC;QAEjF,0CAA0C;QACa,eAAU,GAAG,KAAK,CAAC;QAE1E,4EAA4E;QACxB,UAAK,GAAG,YAAY,CAAC;QAIzE,kBAAa,GAAG,IAAI,yBAAyB,CAAC,IAAI,CAAC,CAAC;IAuEtD,CAAC;IArEC,MAAM;QACJ,MAAM,MAAM,GAAG,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM;YACpE,CAAC,CAAE,IAAI,CAAC,WAAW,EAAe,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEjE,MAAM,aAAa,GAAG,IAAI,CAAA;;;;KAIzB,CAAC;QAEF,OAAO,IAAI,CAAA;;;;;yBAKU,IAAI,CAAC,aAAa;yBAClB,CAAC,CAAQ,EAAE,EAAE,CAAC,CAAC,CAAC,cAAc,EAAE;;;wCAGjB,uBAAA,IAAI,uDAAU;sCAChB,IAAI,CAAC,YAAY;uCAChB,MAAM;sCACP,IAAI,CAAC,KAAK;;;;;mCAKb,IAAI,CAAC,aAAa,CAAC,UAAU;;;;;;;2CAOrB,IAAI,CAAC,UAAU;gBAC1C,IAAI,CAAC,aAAa,CAAC,WAAW;gBAC9B,aAAa;;;;+BAIE,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM;;;;2CAId,IAAI,CAAC,UAAU;gBAC1C,IAAI,CAAC,aAAa,CAAC,UAAU;gBAC7B,aAAa;;;;+BAIE,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK;;;;2CAIb,IAAI,CAAC,UAAU;gBAC1C,IAAI,CAAC,aAAa,CAAC,SAAS;gBAC5B,aAAa;;;;;KAKxB,CAAC;IACJ,CAAC;;;yDAES,KAAY;IACpB,IAAI,KAAK,YAAY,kBAAkB,EAAE,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACzC,CAAC;AACH,CAAC;AAnGM,mBAAM,GAAG,CAAC,MAAM,CAAC,AAAX,CAAY;AAIzB;IADC,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,CAAC;kDAChB;AAGX;IAA5B,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;4CAAoB;AAGnB;IAA5B,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;yCAAc;AAGS;IAAlD,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;4CAAiB;AAGjB;IAAjD,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC;2CAAgB;AAGN;IAA1D,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,iBAAiB,EAAE,CAAC;mDAAuB;AAG1B;IAAtD,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,aAAa,EAAE,CAAC;gDAAoB;AAGtB;IAAnD,QAAQ,CAAC,EAAE,SAAS,EAAE,yBAAyB,EAAE,CAAC;2CAAsB;AAEzC;IAA/B,oBAAoB,EAAE;wCAAyB;AA5BrC,YAAY;IADxB,aAAa,CAAC,eAAe,CAAC;GAClB,YAAY,CAqGxB","sourcesContent":["import type { ColorPalette } from '@rhds/elements/lib/context/color/provider.js';\n\nimport { LitElement, html, isServer } from 'lit';\n\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\n\nimport {\n  colorContextConsumer,\n  type ColorTheme,\n} from '@rhds/elements/lib/context/color/consumer.js';\n\nimport {\n  ColorPaletteListConverter,\n  ContextChangeEvent,\n  paletteNames,\n} from '@rhds/elements/lib/elements/rh-context-picker/rh-context-picker.js';\n\nimport '@rhds/elements/lib/elements/rh-context-picker/rh-context-picker.js';\nimport '@rhds/elements/rh-surface/rh-surface.js';\nimport '@rhds/elements/rh-code-block/rh-code-block.js';\nimport '@rhds/elements/rh-tabs/rh-tabs.js';\n\nimport { UxdotPatternSSRController } from './uxdot-pattern-ssr-controller.js';\n\nimport styles from './uxdot-pattern.css';\n\n@customElement('uxdot-pattern')\nexport class UxdotPattern extends LitElement {\n  static styles = [styles];\n\n  /** Which color palette to apply to the demo surface */\n  @property({ reflect: true, attribute: 'color-palette' })\n  colorPalette: ColorPalette = 'lightest';\n\n  /** The id of the element in shadow DOM which the color picker targets */\n  @property({ reflect: true }) target = 'content';\n\n  /** Path to the pattern source file, relative to the input file */\n  @property({ reflect: true }) src?: string;\n\n  /** Path to additional CSS file to include */\n  @property({ reflect: true, attribute: 'css-src' }) cssSrc?: string;\n\n  /** Path to additional JS file to include */\n  @property({ reflect: true, attribute: 'js-src' }) jsSrc?: string;\n\n  /** Should the color picker be hidden? */\n  @property({ type: Boolean, attribute: 'no-color-picker' }) noColorPicker = false;\n\n  /** Should the code blocks be expanded? */\n  @property({ type: Boolean, attribute: 'full-height' }) fullHeight = false;\n\n  /** Which colour palettes should be allowed in the picker? (default: all) */\n  @property({ converter: ColorPaletteListConverter }) allow = paletteNames;\n\n  @colorContextConsumer() private on?: ColorTheme;\n\n  ssrController = new UxdotPatternSSRController(this);\n\n  render() {\n    const target = isServer || (this.target === 'container') ? this.target\n      : (this.getRootNode() as Document).getElementById(this.target);\n\n    const actionsLabels = html`\n      <span slot=\"action-label-copy\">Copy to Clipboard</span>\n      <span slot=\"action-label-copy\" hidden data-code-block-state=\"active\">Copied!</span>\n      <span slot=\"action-label-wrap\">Toggle line wrap</span>\n    `;\n\n    return html`\n      <div id=\"container\">\n        <div id=\"heading\"><slot name=\"heading\"></slot></div>\n\n        <form id=\"color-picker\"\n              ?hidden=\"${this.noColorPicker}\"\n              @submit=\"${(e: Event) => e.preventDefault()}\">\n          <label for=\"picker\">Color palette</label>\n          <rh-context-picker id=\"picker\"\n                             @change=\"${this.#onChange}\"\n                             value=\"${this.colorPalette}\"\n                             target=\"${target}\"\n                             allow=\"${this.allow}\"></rh-context-picker>\n        </form>\n\n        <div id=\"description\"><slot></slot></div>\n\n        <rh-surface id=\"content\">${this.ssrController.allContent}</rh-surface>\n\n        <rh-tabs class=\"code-tabs\">\n          <rh-tab slot=\"tab\" active>HTML</rh-tab>\n          <rh-tab-panel>\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           ?full-height=\"${this.fullHeight}\">\n              ${this.ssrController.htmlContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n          <rh-tab slot=\"tab\"\n                  ?disabled=\"${!this.ssrController.hasCss}\">CSS</rh-tab>\n          <rh-tab-panel>\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           ?full-height=\"${this.fullHeight}\">\n              ${this.ssrController.cssContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n          <rh-tab slot=\"tab\"\n                  ?disabled=\"${!this.ssrController.hasJs}\">JS</rh-tab>\n          <rh-tab-panel>\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           ?full-height=\"${this.fullHeight}\">\n              ${this.ssrController.jsContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n        </rh-tabs>\n      </div>\n    `;\n  }\n\n  #onChange(event: Event) {\n    if (event instanceof ContextChangeEvent) {\n      this.colorPalette = event.colorPalette;\n    }\n  }\n}\n"]}