{"version":3,"file":"uxdot-pattern.js","sourceRoot":"","sources":["uxdot-pattern.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ColorPalette } from '@rhds/elements/lib/context/color/provider.js';\n\nimport { LitElement, html, type PropertyValues } from 'lit';\n\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { property } from 'lit/decorators/property.js';\n\nimport {\n  colorContextConsumer,\n  type ColorTheme,\n} from '@rhds/elements/lib/context/color/consumer.js';\n\nimport {\n  ColorPaletteListConverter,\n  ContextChangeEvent,\n  paletteNames,\n} from '@rhds/elements/lib/elements/rh-context-picker/rh-context-picker.js';\n\nimport '@rhds/elements/lib/elements/rh-context-picker/rh-context-picker.js';\nimport '@rhds/elements/rh-surface/rh-surface.js';\nimport '@rhds/elements/rh-code-block/rh-code-block.js';\nimport '@rhds/elements/rh-tabs/rh-tabs.js';\n\nimport { UxdotPatternSSRController } from './uxdot-pattern-ssr-controller.js';\n\nimport styles from './uxdot-pattern.css';\n\n@customElement('uxdot-pattern')\nexport class UxdotPattern extends LitElement {\n  static styles = [styles];\n\n  /** Which color palette to apply to the demo surface */\n  @property({ reflect: true, attribute: 'color-palette' })\n  colorPalette: ColorPalette = 'lightest';\n\n  /** The id of the element in shadow DOM which the color picker targets */\n  @property({ reflect: true }) target = 'content';\n\n  /** Path to the pattern source file, relative to the input file */\n  @property({ reflect: true }) src?: string;\n\n  /** Path to additional CSS file to include */\n  @property({ reflect: true, attribute: 'css-src' }) cssSrc?: string;\n\n  /** Path to additional JS file to include */\n  @property({ reflect: true, attribute: 'js-src' }) jsSrc?: string;\n\n  /** Should the color picker be hidden? */\n  @property({ type: Boolean, attribute: 'no-color-picker' }) noColorPicker = false;\n\n  /** Should the code blocks be expanded? */\n  @property({ type: Boolean, attribute: 'full-height' }) fullHeight = false;\n\n  /** Which colour palettes should be allowed in the picker? (default: all) */\n  @property({ converter: ColorPaletteListConverter }) allow = paletteNames;\n\n  @colorContextConsumer() private on?: ColorTheme;\n\n  ssr = new UxdotPatternSSRController(this);\n\n  update(changed: PropertyValues<this>) {\n    try {\n      super.update(changed);\n    } catch (e) {\n      if ((e as any).message.startsWith('Hydration')) {\n        this.updateComplete.then(() =>\n          this.requestUpdate());\n      }\n      throw e;\n    }\n  }\n\n  render() {\n    const { allContent, htmlContent, cssContent, jsContent, hasJs, hasCss } = this.ssr;\n\n    const actionsLabels = html`\n      <span slot=\"action-label-copy\">Copy to Clipboard</span>\n      <span slot=\"action-label-copy\" hidden data-code-block-state=\"active\">Copied!</span>\n      <span slot=\"action-label-wrap\">Toggle line wrap</span>\n    `;\n\n    return html`\n      <div id=\"container\">\n        <div id=\"heading\"><slot name=\"heading\"></slot></div>\n\n        <form id=\"color-picker\"\n              ?hidden=\"${this.noColorPicker}\"\n              @submit=\"${(e: Event) => e.preventDefault()}\">\n          <label for=\"picker\">Color palette</label>\n          <rh-context-picker id=\"picker\"\n                             @change=\"${this.#onChange}\"\n                             value=\"${this.colorPalette}\"\n                             target=\"${this.target}\"\n                             allow=\"${this.allow}\"></rh-context-picker>\n        </form>\n\n        <div id=\"description\"><slot></slot></div>\n\n        <rh-surface id=\"content\">${allContent}</rh-surface>\n\n        <rh-tabs id=\"code-tabs\" class=\"code-tabs\">\n          <rh-tab id=\"html-tab\"\n                  slot=\"tab\"\n                  active>HTML</rh-tab>\n          <rh-tab-panel id=\"html-panel\">\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           .full-height=\"${this.fullHeight}\">\n              ${htmlContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n          <rh-tab id=\"css-tab\"\n                  slot=\"tab\"\n                  .disabled=\"${!hasCss}\">CSS</rh-tab>\n          <rh-tab-panel id=\"css-panel\">\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           .full-height=\"${this.fullHeight}\">\n              ${cssContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n          <rh-tab id=\"js-tab\"\n                  slot=\"tab\"\n                  .disabled=\"${!hasJs}\">JS</rh-tab>\n          <rh-tab-panel id=\"js-panel\">\n            <rh-code-block highlighting=\"prerendered\"\n                           actions=\"copy wrap\"\n                           .full-height=\"${this.fullHeight}\">\n              ${jsContent}\n              ${actionsLabels}\n            </rh-code-block>\n          </rh-tab-panel>\n        </rh-tabs>\n      </div>\n    `;\n  }\n\n  #onChange(event: Event) {\n    if (event instanceof ContextChangeEvent) {\n      this.colorPalette = event.colorPalette;\n    }\n  }\n}\n\n"]}