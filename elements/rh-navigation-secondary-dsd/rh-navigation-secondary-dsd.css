:host {
  --_max-height: max-content;
  --_min-height: 80px;
  --_nav-max-height: var(--_max-height, max-content);
  --_nav-min-height: var(--_min-height, 80px);
  --_inline-padding: var(--rh-space-lg);

  display: block;
  position: sticky;
  inset-block-start: 0;
  container: navigation-secondary / inline-size;
  border-block-end: var(--rh-border-width-sm, 1px) solid transparent;
  box-shadow: var(--rh-box-shadow-sm, 0 2px 4px 0 rgba(21, 21, 21, 0.2));
  width: 100%;
  min-height: var(--_min-height);
  height: var(--_max-height);
}

#container {
  display: block;
  width: -webkit-fill-available;
  width: -moz-available;
  width: fill-available;

  @container navigation-secondary (min-width: 567px) {
    --_inline-padding: var(--rh-space-xl);
  }

  @container navigation-secondary (min-width: 567px) {
    --_inline-padding: var(--rh-space-2xl);
  }

  #bar {
    position: absolute;
    display: grid;
    /* stylelint-disable-next-line rhds/no-unknown-token-name */
    z-index: var(--rh-navigation-secondary-z-index, 102);
    grid-template-areas:
      'logo hamburger'
      'nav nav';
    grid-template-columns: 1fr min-content;
    grid-template-rows:
      minmax(var(--_nav-min-height), var(--_nav-max-height))
      max-content
      max-content;
    background-color: var(--rh-color-surface-lighter);
    width: -webkit-fill-available;
    width: -moz-available;
    width: fill-available;

    #logo {
      grid-area: logo;
      display: flex;
      align-items: center;
      font-family: var(--rh-font-family-heading, RedHatDisplay, 'Red Hat Display', 'Noto Sans Arabic', 'Noto Sans Hebrew', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Malayalam', 'Noto Sans SC', 'Noto Sans TC', 'Noto Sans Thai', Helvetica, Arial, sans-serif);
      font-weight: var(--rh-font-weight-heading-medium);
      line-height: var(--rh-line-height-heading);
      padding-inline-start: var(--_inline-padding);
      /* stylelint-disable-next-line rhds/no-unknown-token-name */
      max-width: var(--rh-navigation-secondary-logo-max-width, 10em);

      & slot[name='logo']::slotted(*) {
        display: flex;
        align-items: center;
        height: 100%;
        color: var(--rh-color-text-primary) !important;
        padding-block: var(--rh-space-lg, 16px);
      }

      @container (min-width: 567px) {
        padding-inline-start: var(--_inline-padding);
      }
    }

    #hamburger {
      display: contents;

      & summary {
        --rh-icon-size: 12px;

        cursor: pointer;
        grid-area: hamburger;
        display: flex;
        gap: var(--rh-space-sm);
        height: 100%;
        align-items: center;
        margin-inline-end: var(--_inline-padding);
        padding-inline: 16px;

        &::marker,
        &::-webkit-details-marker {
          display: none;
        }
      }

      & #nav-container {
        grid-area: nav;
        display: flex;
        flex-direction: column;
        gap: var(--rh-space-2xl);
        width: -webkit-fill-available;
        width: -moz-available;
        width: fill-available;
        background-color: var(--rh-color-surface-lightest);

        & slot[name='nav']::slotted(ul) {
          list-style: none;
          margin: 0;
          padding: 0;
          display: flex;
          flex-direction: column;
        }
      }

      &[open] {
        & summary {
          background-color: var(--rh-color-surface-lightest);

          rh-icon {
            rotate: 180deg;
          }
        }

        & #nav-container {
          padding-block: var(--rh-space-2xl);
          padding-inline: var(--_inline-padding);
          box-shadow: var(--rh-box-shadow-sm);
        }
      }

      /* stylelint-disable-next-line selector-pseudo-element-no-unknown */
      &[open]::details-content {
        display: contents;
      }
    }
  }

  /* wide viewport and js enabled */
  &:not(.compact) {
    #bar {
      grid-template-areas: 'logo nav';
      grid-template-columns: max-content 1fr;
      grid-template-rows: minmax(var(--_min-height), var(--_max-height)) max-content max-content;
      column-gap: var(--rh-space-2xl);

      #hamburger {
        & summary {
          display: none;
        }

        #nav-container {
          flex-direction: row;
          background-color: var(--rh-color-surface-lighter);
          justify-content: space-between;

          & slot[name='nav']::slotted(ul) {
            flex-direction: row;
          }
        }

        #cta {
          display: flex;
          height: 100%;
          align-content: center;
          padding-inline-end: var(--_inline-padding);
        }

        &[open] {
          #nav-container {
            padding: 0;
            box-shadow: none;
          }
        }
      }
    }
  }
}
