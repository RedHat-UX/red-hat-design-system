{%- set extraPageClasses = bodyClasses or "" -%}
{%- if title -%}
  {% set extraPageClasses = extraPageClasses + ' page-' + title | slug -%}
{%- endif -%}

<!doctype html>
<html lang="en" dir="ltr">
  <head>
    {% include "../partials/meta.html" %}
    {#- prevent white FOUC for deviced preferring dark scheme -#}
    <style>
      body {
        min-height: 100vh;
        color-scheme: light dark;
        background-color: light-dark(white, var(--rh-color-surface-darker, #1f1f1f));
      }
    </style>
    <link rel="stylesheet" href="/styles/styles.css">

    <script type="importmap">{{ importMap | dump(2) | safe }}</script>

    {#- Load SSR support modules **BEFORE** element definitions -#}
    {% include 'partials/javascript/dsd-init.html' %}
    {%- for tag in importElements -%}
    <script type="module">import '@rhds/elements/{{tag}}/{{tag}}.js';</script>
    {%- endfor -%}

    {# only load components that need hydrated (aka interactivity) #}
    <script type="module">
      import '@rhds/elements/rh-button/rh-button.js';
      import '@uxdot/elements/uxdot-copy-permalink.js';
      import '@uxdot/elements/uxdot-sidenav.js';
      import '@uxdot/elements/uxdot-example.js';
    </script>

    <script async src="https://ga.jspm.io/npm:es-module-shims@1.8.0/dist/es-module-shims.js"></script>
  </head>

  <body class="{{ extraPageClasses }}">
    <rh-skip-link href="#main">Skip to main content</rh-skip-link>
    {{ content | safe }}
  </body>
</html>
