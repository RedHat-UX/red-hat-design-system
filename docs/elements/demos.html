---
templateEngineOverride: njk
hasToc: true
layout: 'layouts/pages/elements.njk'
permalink: '/elements/{{ element.slug }}/demos/'
mimes:
  js: javascript
pagination:
  data: elements
  alias: element
  size: 1
---
<style>
playground-project section {
  display: flex;
  flex-flow: row wrap;
  & playground-preview,
  & playground-file-editor {
    width: 100%;
  }
  & rh-cta {
    margin-inline-start: auto;
  }
}
</style>

<script type="module">
  import 'playground-elements';

  for (const preview of document.querySelectorAll('playground-preview')) {
    preview.htmlFile = preview.getAttribute('htmlfile');
  }
</script>

<playground-project id="playground-{{ element.tagName }}">
  {# see https://github.com/google/playground-elements/issues/166
  <script type="sample/importmap">{ "imports": {{ importMap.imports | dump(2) | safe | replace('"/assets', '"' + baseUrl + '/assets') }} }</script>
  #}
  {% for filename, config in playground.files %}
  {% if config.contentType %}
  {% set filetype = 'sample/' + config.contentType.split('/').pop() %}
  {% endif %}
  <script type="{{ filetype or 'sample/js' }}"
          filename="{{ filename }}" {{ 'hidden' if config.hidden }}>{{ config.content | safe | replace('</' + 'script>', '&lt;/script>') }}</script>
  {% if config.label %}
  <section>
    <h2 id="demo-{{ config.label | slugify }}">{{ config.label }}</h2>
    {#<rh-cta href="/elements/{{ slug }}/demo/{{ config.label | slugify}}/">View Fullscreen Demo</rh-cta>#}
    <rh-cta><a href="/elements/{{ slug }}/demo/{{ config.label | slugify}}/">View Fullscreen Demo</a></rh-cta>
    <playground-preview project="playground-{{ element.tagName }}" htmlfile="{{ filename }}"></playground-preview>
    <playground-file-editor project="playground-{{ element.tagName }}" filename="{{ filename }}"></playground-file-editor>
  </section>
  {% endif %}
{% endfor %}
</playground-project>

{#<pre><code>{{ playground | dump(2) }}</code></pre>#}
