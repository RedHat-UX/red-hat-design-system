---
templateEngineOverride: njk
hasToc: true
layout: 'layouts/pages/elements.njk'
permalink: '/elements/{{ element.slug }}/demos/'
mimes:
  js: javascript
pagination:
  data: elements
  alias: element
  size: 1
---
<script type="module">
  import "/assets/javascript/elements/playground-elements.js";
  for (const preview of document.querySelectorAll('playground-preview')) {
    preview.htmlFile = preview.getAttribute('htmlfile');
  }
</script>

<playground-project id="playground-{{ element.tagName }}">
  {# see https://github.com/google/playground-elements/issues/166
  <script type="sample/importmap">{ "imports": {{ importMap.imports | dump(2) | safe | replace('"/assets', '"' + baseUrl + '/assets') }} }</script>
  #}
  {% for filename, config in playground.files %}
  <script type="sample/{{ config.contentType.split('/').pop() if config.contentType else mimes[filename.split('.').pop()] }}"
          filename="{{ filename }}">{{ config.content | safe | replace('</' + 'script>', '&lt;/script>') }}</script>
  {% if config.label %}
  <h2 id="demo-{{ config.label | slugify }}">{{ config.label }}</h2>
  <playground-preview project="playground-{{ element.tagName }}" htmlfile="{{ filename }}"></playground-preview>
  <playground-file-editor project="playground-{{ element.tagName }}" filename="{{ filename }}"></playground-file-editor>
  {% endif %}
{% endfor %}
</playground-project>

{#<pre><code>{{ playground | dump(2) }}</code></pre>#}

