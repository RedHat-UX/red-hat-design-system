<nav id="simulate-nav" aria-labelledby="simulate-nav-heading">
  <h3 id="simulate-nav-heading">Navigate to tab</h3>
  <ul>
    <li><a href="#north">North tab</a></li>
    <li><a href="#south">South tab</a></li>
    <li><a href="#east">East tab</a></li>
    <li><a href="#west">West tab</a></li>
    <li><a href="#best">Content inside the West tab</a></li>
  </ul>
</nav>

<rh-tabs>
  <rh-tab slot="tab" id="north">North</rh-tab>
  <rh-tab-panel>The North</rh-tab-panel>
  <rh-tab slot="tab" id="south">South</rh-tab>
  <rh-tab-panel>The South</rh-tab-panel>
  <rh-tab slot="tab" id="east">East</rh-tab>
  <rh-tab-panel>The East</rh-tab-panel>
  <rh-tab slot="tab" id="west">West</rh-tab>
  <rh-tab-panel>
    The West end is the <a id="best"><em>best</em></a> end.
  </rh-tab-panel>
</rh-tabs>

<script type="module">
  import '@rhds/elements/rh-tabs/rh-tabs.js';
  import { RhTab } from '@rhds/elements/rh-tabs/rh-tab.js';
  function activateTabByHash() {
    const { hash } = location;
    if (!hash) { return; }
    const hashTarget = document.querySelector(hash);
    const tabs = hashTarget.closest('rh-tabs');
    if (!tabs) { return; }
    if (hashTarget instanceof RhTab) {
      tabs.select(hashTarget);
    } else {
      const panel = hashTarget?.closest('rh-tab-panel');
      const panelIndex = Array.from(tabs.querySelectorAll('rh-tab-panel')).indexOf(panel);
      if (panelIndex >= 0) {
        tabs.select(panelIndex);
      }
    }
  }
  addEventListener('hashchange', activateTabByHash);
  activateTabByHash();
</script>

